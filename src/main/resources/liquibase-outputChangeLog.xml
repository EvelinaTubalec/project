<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog>

    <changeSet author="evelina.tubalets (generated)" id="1641821201473-1">
        <createSequence sequenceName="departments_id_seq"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-2">
        <createSequence sequenceName="positions_id_seq"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-3">
        <createSequence sequenceName="projects_id_seq"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-4">
        <createSequence sequenceName="users_id_seq"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-5">
        <createTable tableName="departments">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="departments_pkey"/>
            </column>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-6">
        <createTable tableName="positions">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="positions_pkey"/>
            </column>
            <column name="position_end_date" type="date"/>
            <column name="position_start_date" type="date"/>
            <column name="project_id" type="BIGINT"/>
            <column name="user_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-7">
        <createTable tableName="projects">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="projects_pkey"/>
            </column>
            <column name="end_date" type="date"/>
            <column name="start_date" type="date"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-8">
        <createTable tableName="users">
            <column autoIncrement="true" name="id" type="BIGSERIAL">
                <constraints primaryKey="true" primaryKeyName="users_pkey"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="position" type="VARCHAR(255)"/>
            <column name="department_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-9">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="positions" constraintName="fk6330vxpwpi2c9ow76w5yarx9x" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-10">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="positions" constraintName="fks4p21kyufc2i12fo7o7eiybgr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="projects"/>
    </changeSet>
    <changeSet author="evelina.tubalets (generated)" id="1641821201473-11">
        <addForeignKeyConstraint baseColumnNames="department_id" baseTableName="users" constraintName="fksbg59w8q63i0oo53rlgvlcnjq" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="departments"/>
    </changeSet>
</databaseChangeLog>
